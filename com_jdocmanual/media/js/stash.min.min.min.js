let pageid=document.getElementById("jform_page_id").value;if(pageid==="0"){let displaytitle=document.getElementById("jform_display_title");displaytitle.readOnly=false;let sourceurl=document.getElementById("jform_source_url");let manual=document.getElementById("jform_manual");let filename=document.getElementById("jform_filename");let heading=document.getElementById("jform_heading");let prefix="jdocmanual?article=";displaytitle.addEventListener("change",function(){displaytitle.value=displaytitle.value.trim();sourceurl.value=displaytitle.value.replaceAll(" ","_");let firstline=document.getElementsByClassName("cm-line")[0];firstline.innerHTML="&lt;!-- Filename: Help6.x:"+sourceurl.value+" / "+"Display title: "+displaytitle.value+" --&gt;";let tmp=sourceurl.value.toLowerCase();tmp=tmp.replaceAll(/[^a-z0-9]/gi,"-");tmp=tmp.replaceAll(/-{2,}/gi,"");tmp=tmp.replace(/^-/,"");tmp=tmp.replace(/-$/,"");filename.value=tmp+".md";sourceurl.value=prefix+manual.value+"/"+heading.value+"/"+filename.value});heading.addEventListener("change",function(){let tmp=heading.value.trim();tmp=tmp.toLowerCase();tmp=tmp.replaceAll(/[^a-z0-9]/gi,"-");tmp=tmp.replaceAll(/-{2,}/gi,"");tmp=tmp.replace(/^-/,"");tmp=tmp.replace(/-$/,"");heading.value=tmp;sourceurl.value=prefix+manual.value+"/"+heading.value+"/"+filename.value})}let msg=document.getElementById("jform_commit_message");let commit=document.getElementsByClassName("button-gfm-commit");if(commit){for(let i=0;i<commit.length;i++){commit[i].addEventListener("click",committer,false)}}function committer(event){if(msg.value.length<25){alert("The Commit Message is missing or too short!");return false}else{if(confirm("This action will commit and merge the changes in this PR.")){let form=document.getElementById("adminForm");let task=document.getElementById("task");task.value=document.getElementById("toolbar-gfm-commit").getAttribute("task");form.submit();return true}return false}}